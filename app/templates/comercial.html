{% extends 'base.html' %}

{% block title %}Clientes{% endblock %}

{% block content %}
<h2>Clientes</h2>

<div class="filters">
    <label for="risk-filter">Filtrar por Risco de Churn:</label>
    <select id="risk-filter">
        <option value="">Todos</option>
        <option value="Consumado">Consumado</option>
        <option value="Alto">Alto</option>
        <option value="Médio">Médio</option>
        <option value="Baixo">Baixo</option>
        <option value="-">Sem Risco</option>
    </select>
</div>

<div class="table-card">
    <table id="client-table">
        <thead>
            <tr>
                <th class="sortable" data-sort="ClientName">
                    Cliente
                    <span class="sort-indicator"></span>
                </th>
                <th>Email do cliente</th>
                <th class="sortable" data-sort="LastDate">
                    Última Operação
                    <span class="sort-indicator"></span>
                </th>
                <th class="sortable" data-sort="InactiveDays">
                    Dias Inativo
                    <span class="sort-indicator"></span>
                </th>
                <th class="sortable active desc" data-sort="HistoricalVolume">
                    Volume Histórico (R$)
                    <span class="sort-indicator">▼</span>
                </th>
                <th>Agente</th>
                <th>Risco de Churn</th>
            </tr>
        </thead>
        <tbody id="client-tbody">
            <!-- Dados serão preenchidos dinamicamente -->
        </tbody>
    </table>

    <div class="pagination">
        <button class="pagination-btn" id="prev-btn" disabled>‹</button>
        <span class="pagination-info" id="pagination-info">1 de 1</span>
        <button class="pagination-btn" id="next-btn" disabled>›</button>
    </div>
</div>

<link rel="stylesheet" href="{{ url_for('static', filename='css/comercial.css') }}">
<script defer src="{{ url_for('static', filename='js/comercial.js') }}"></script>
{% endblock %}
