{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h1>Volume de Operações</h1>

<div class="filters">
    <label for="period-select">Período / Granularidade:</label>
    <select id="period-select">
        <option value="all">Todo o período</option>
        <option value="year">Por ano</option>
        <option value="year_month" selected>Ano agregado por mês</option>
        <option value="quarter_week">Trimestre agregado por semana</option>
        <option value="month_day">Mês agregado por dia</option>
    </select>

    <label for="start-date">Data início:</label>
    <input type="date" id="start-date" />

    <label for="end-date">Data fim:</label>
    <input type="date" id="end-date" />

    <button id="apply-filters" class="btn">Aplicar</button>
</div>

<div class="table-card">
    <canvas id="volumeChart" width="800" height="320"></canvas>
    <div id="chart-loader" style="display:none;">Carregando...</div>
    <div id="chart-error" style="display:none;color:red;"></div>
</div>

<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
